{"version":3,"sources":["components/CpkInfo/index.tsx","utils/networks.ts","components/SafeModules/index.tsx","components/Transactions/index.tsx","components/ConnectButton/index.tsx","components/App/index.tsx","styles/globalStyles.ts","serviceWorker.js","index.tsx"],"names":["Line","styled","div","TitleLine","CpkInfo","walletState","size","strong","networkId","1","2","3","4","5","42","100","246","73799","getNetworkNameFromId","isSafeApp","isProxyDeployed","contractVersion","ownerAddress","hash","showIdenticon","showCopyBtn","showEtherscanBtn","shortenHash","cpkAddress","balance","ethDecimals","BigNumber","pow","decimalPlaces","toString","formatBalance","cpkBalance","BigLine","headers","id","label","SafeModules","cpk","useState","module","setModule","txHash","setTxHash","showTxError","setShowTxError","isLoading","setIsLoading","rows","setRows","getModules","useCallback","a","modules","newRows","map","index","cells","content","useEffect","enableModule","txResult","safeTxHash","Promise","resolve","reject","promiEvent","then","receipt","catch","disableModule","textSize","value","onChange","e","target","onClick","color","variant","as","length","Transactions","makeTransaction","txs","to","execTransactions","Web3ConnectButton","WalletConnectProvider","require","default","ConnectButton","onConnect","networkName","Button","network","providerOptions","walletconnect","package","options","infuraId","onClose","Container","initialWalletState","undefined","txManager","tabs","icon","App","selectedTab","setSelectedTab","React","web3","setWeb3","setCpk","updateWalletState","ethLibAdapter","Web3Adapter","CPK","create","newCpk","console","log","initializeCpk","getContractVersion","address","getBalance","getNetworkId","getOwnerAccount","updateCpk","provider","Web3","items","GlobalStyle","createGlobalStyle","avertaFont","avertaBoldFont","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","theme","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.419466aa.chunk.js","sourcesContent":["import { EthHashInfo, Text, Title } from '@gnosis.pm/safe-react-components'\nimport BigNumber from 'bignumber.js'\nimport { WalletState } from 'components/App'\nimport React from 'react'\nimport styled from 'styled-components'\nimport { getNetworkNameFromId } from 'utils/networks'\n\nconst Line = styled.div`\n  display: flex;\n  align-items: center;\n  height: 40px;\n`\n\nconst TitleLine = styled.div`\n  margin-right: 10px;\n`\n\nconst formatBalance = (balance: BigNumber | undefined): string => {\n  if (!balance) {\n    return '0 ETH'\n  }\n  const ethDecimals = new BigNumber(10).pow(18)\n  return balance.div(ethDecimals).decimalPlaces(7).toString() + ' ETH'\n}\n\ninterface CpkInfoProps {\n  walletState: WalletState\n}\n\nconst CpkInfo = ({ walletState }: CpkInfoProps) => {\n  return (\n    <>\n      <Title size=\"sm\">Information</Title>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\" strong>\n            Network:\n          </Text>\n        </TitleLine>\n        <Text size=\"xl\">\n          {walletState?.networkId && getNetworkNameFromId(walletState?.networkId)}\n        </Text>\n      </Line>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\" strong>\n            Running as a:\n          </Text>\n        </TitleLine>\n        <Text size=\"xl\">\n          {walletState?.isSafeApp ? 'Safe App' : 'Standalone App'}\n        </Text>\n      </Line>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\" strong>\n            State of the Proxy:\n          </Text>\n        </TitleLine>\n        <Text size=\"xl\">\n          {walletState?.isProxyDeployed ? 'Deployed' : 'Not deployed'}\n          {walletState?.contractVersion && ` (v${walletState?.contractVersion})`}\n        </Text>\n      </Line>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\" strong>\n            Owner address:\n          </Text>\n        </TitleLine>\n        {walletState?.ownerAddress && (\n          <EthHashInfo\n            hash={walletState?.ownerAddress}\n            showIdenticon\n            showCopyBtn\n            showEtherscanBtn\n            shortenHash={4}\n          />\n        )}\n      </Line>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\" strong>\n            CPK address:\n          </Text>\n        </TitleLine>\n        {walletState?.cpkAddress && (\n          <EthHashInfo\n            hash={walletState?.cpkAddress}\n            showIdenticon\n            showCopyBtn\n            showEtherscanBtn\n            shortenHash={4}\n          />\n        )}\n      </Line>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\" strong>\n            CPK Balance:\n          </Text>\n        </TitleLine>\n        <Text size=\"xl\">{formatBalance(walletState?.cpkBalance)}</Text>\n      </Line>\n    </>\n  )\n}\n\nexport default CpkInfo\n","type Networks = {\n  [key: number]: string\n}\n\nexport const getNetworkNameFromId = (networkId?: number): string | undefined => {\n  if (!networkId) return\n  const networks: Networks = {\n    1: 'Mainnet',\n    2: 'Morden',\n    3: 'Ropsten',\n    4: 'Rinkeby',\n    5: 'Goerli',\n    42: 'Kovan',\n    100: 'xDai',\n    246: 'Energy Web Chain',\n    73799: 'Volta (Energy Web Chain)'\n  }\n  return networks[networkId]\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport CPK from 'contract-proxy-kit'\nimport styled from 'styled-components'\nimport {\n  Button,\n  Card,\n  EthHashInfo,\n  Loader,\n  Table,\n  TableHeader,\n  TableRow,\n  Text,\n  TextField,\n  Title\n} from '@gnosis.pm/safe-react-components'\nimport { WalletState } from 'components/App'\n\nconst Line = styled.div`\n  display: flex;\n  align-items: center;\n  height: 40px;\n`\n\nconst TitleLine = styled.div`\n  margin-right: 10px;\n`\n\nconst BigLine = styled.div`\n  margin: 10px 0;\n`\n\ninterface SafeModulesProps {\n  cpk: CPK\n  walletState: WalletState\n}\n\nconst headers: TableHeader[] = [\n  {\n    id: '1',\n    label: 'Enabled modules'\n  }\n]\n\nconst SafeModules = ({ cpk, walletState }: SafeModulesProps) => {\n  const [module, setModule] = useState<string>('')\n  const [txHash, setTxHash] = useState<string>('')\n  const [showTxError, setShowTxError] = useState<boolean>(false)\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [rows, setRows] = useState<TableRow[]>([])\n\n  const getModules = useCallback(async () => {\n    let modules: string[] = []\n    try {\n      modules = await cpk.getModules()\n      const newRows: TableRow[] = modules.map((module, index) => ({\n        id: index.toString(),\n        cells: [{ content: module }]\n      }))\n      setRows(newRows)\n    } catch (e) {\n\n    }\n  }, [cpk])\n\n  useEffect(() => {\n    getModules()\n  }, [getModules])\n\n  const enableModule = async (): Promise<void> => {\n    if (!module) return\n    setShowTxError(false)\n    setTxHash('')\n    try {\n      // Remove any type when TransactionResult type is updated\n      const txResult: any = await cpk.enableModule(module)\n      const hash = walletState.isSafeApp ? txResult.safeTxHash : txResult.hash\n      if (hash) {\n        setTxHash(hash)\n      }\n      setIsLoading(true)\n      await new Promise((resolve, reject) =>\n        txResult.promiEvent\n          ?.then((receipt: any) => resolve(receipt))\n          .catch(reject)\n      )\n      await getModules()\n    } catch (e) {\n      setShowTxError(true)\n    }\n    setIsLoading(false)\n  }\n\n  const disableModule = async (): Promise<void> => {\n    if (!module) return\n    setShowTxError(false)\n    setTxHash('')\n    try {\n      // Remove any type when TransactionResult type is updated\n      const txResult: any = await cpk.disableModule(module)\n      const hash = walletState.isSafeApp ? txResult.safeTxHash : txResult.hash\n      if (hash) {\n        setTxHash(hash)\n      }\n      setIsLoading(true)\n      await new Promise((resolve, reject) =>\n        txResult.promiEvent\n          ?.then((receipt: any) => resolve(receipt))\n          .catch(reject)\n      )\n      await getModules()\n    } catch (e) {\n      setShowTxError(true)\n    }\n    setIsLoading(false)\n  }\n\n  return (\n    <>\n      <Title size=\"sm\">Safe modules</Title>\n      <Line>\n        <TitleLine>\n          <Text size=\"xl\">Test with this module on Rinkeby:</Text>\n        </TitleLine>\n        <EthHashInfo\n          hash=\"0x33A458E072b182152Bb30243f29585a82c45A22b\"\n          textSize=\"xl\"\n          showCopyBtn\n        />\n      </Line>\n      <BigLine>\n        <TextField\n          id=\"standard-name\"\n          label=\"Module Address\"\n          value={module}\n          onChange={(e) => setModule(e.target.value)}\n        />\n      </BigLine>\n      <Line>\n        <Button\n          onClick={enableModule}\n          size=\"md\"\n          color=\"primary\"\n          variant=\"contained\"\n        >\n          Enable module\n        </Button>\n      </Line>\n      <Line>\n        <Button\n          onClick={disableModule}\n          size=\"md\"\n          color=\"primary\"\n          variant=\"contained\"\n        >\n          Disable module\n        </Button>\n      </Line>\n      {showTxError && (\n        <Line>\n          <Text size=\"xl\" color=\"error\">\n            Transaction rejected\n          </Text>\n        </Line>\n      )}\n      {txHash && (\n        <Line>\n          <TitleLine>\n            <Text size=\"xl\" as=\"span\" strong>\n              {walletState.isSafeApp\n                ? 'Safe transaction hash:'\n                : 'Transaction hash:'}\n            </Text>\n          </TitleLine>\n          <EthHashInfo\n            hash={txHash}\n            textSize=\"xl\"\n            shortenHash={8}\n            showCopyBtn\n          />\n        </Line>\n      )}\n      {isLoading ? (\n        <BigLine>\n          <Card>\n            <Loader size=\"sm\" />\n          </Card>\n        </BigLine>\n      ) : (\n        <BigLine>\n          {rows.length > 0 ? (\n            <Table headers={headers} rows={rows} />\n          ) : (\n            <Card>\n              <Text size=\"xl\">No modules enabled</Text>\n            </Card>\n          )}\n        </BigLine>\n      )}\n    </>\n  )\n}\n\nexport default SafeModules\n","import React, { useState } from 'react'\nimport CPK from 'contract-proxy-kit'\nimport styled from 'styled-components'\nimport {\n  Button,\n  EthHashInfo,\n  Text,\n  Title\n} from '@gnosis.pm/safe-react-components'\nimport { WalletState } from 'components/App'\n\nconst Line = styled.div`\n  display: flex;\n  align-items: center;\n  height: 40px;\n`\n\nconst TitleLine = styled.div`\n  margin-right: 10px;\n`\n\ninterface TransactionsProps {\n  cpk: CPK\n  walletState: WalletState\n}\n\nconst Transactions = ({ cpk, walletState }: TransactionsProps) => {\n  const [txHash, setTxHash] = useState<string>('')\n  const [showTxError, setShowTxError] = useState<boolean>(false)\n\n  const makeTransaction = async (): Promise<void> => {\n    if (!walletState.ownerAddress) return\n    setShowTxError(false)\n    setTxHash('')\n    const txs = [\n      {\n        to: walletState.ownerAddress\n      }\n    ]\n    try {\n      const txResult = await cpk.execTransactions(txs)\n      const hash = walletState.isSafeApp ? txResult.safeTxHash : txResult.hash\n      if (hash) {\n        setTxHash(hash)\n      }\n    } catch (e) {\n      setShowTxError(true)\n    }\n  }\n\n  return (\n    <>\n      <Title size=\"sm\">Transactions</Title>\n      <Line>\n        <Button\n          onClick={makeTransaction}\n          size=\"md\"\n          color=\"primary\"\n          variant=\"contained\"\n        >\n          Send empty tx to the CPK owner\n        </Button>\n      </Line>\n      {showTxError && (\n        <Line>\n          <Text size=\"xl\" color=\"error\">\n            Transaction rejected\n          </Text>\n        </Line>\n      )}\n      {txHash && (\n        <Line>\n          <TitleLine>\n            <Text size=\"xl\" as=\"span\" strong>\n              {walletState.isSafeApp\n                ? 'Safe transaction hash:'\n                : 'Transaction hash:'}\n            </Text>\n          </TitleLine>\n          <EthHashInfo\n            hash={txHash}\n            textSize=\"xl\"\n            shortenHash={8}\n            showCopyBtn\n          />\n        </Line>\n      )}\n    </>\n  )\n}\n\nexport default Transactions\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport Web3Connect from 'web3connect'\n\nconst Web3ConnectButton = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-bottom: 10px;\n  & > div {\n    padding: 0;\n  }\n  .web3connect-connect-button {\n    outline: none;\n    background: #008c73;\n    border: 1px solid #008c73;\n    border-radius: 4px;\n    color: #fff;\n    cursor: pointer;\n    transform: none;\n    font-weight: normal;\n    font-size: 14px;\n    box-shadow: none;\n  }\n  .web3connect-connect-button:hover {\n    background: #005546;\n    box-shadow: none;\n    transform: none;\n  }\n`\n\nconst {\n  default: WalletConnectProvider\n} = require('@walletconnect/web3-provider')\n\ntype ConnectButtonProps = {\n  onConnect: Function\n  networkName: string\n}\n\nconst ConnectButton = ({ onConnect, networkName }: ConnectButtonProps) => (\n  <Web3ConnectButton>\n    <Web3Connect.Button\n      network={networkName}\n      providerOptions={{\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId: 'b42c928da8fd4c1f90374b18aa9ac6ba'\n          }\n        }\n      }}\n      onConnect={onConnect}\n      onClose={() => {}}\n    />\n  </Web3ConnectButton>\n)\n\nexport default ConnectButton\n","import { Tab, TabItem, Title } from '@gnosis.pm/safe-react-components'\nimport { BigNumber } from 'bignumber.js'\nimport CpkInfo from 'components/CpkInfo'\nimport SafeModules from 'components/SafeModules'\nimport Transactions from 'components/Transactions'\nimport CPK, { TransactionManagerConfig, Web3Adapter } from 'contract-proxy-kit'\nimport React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport Web3 from 'web3'\nimport ConnectButton from '../ConnectButton'\n\nconst Container = styled.div`\n  padding: 10px;\n`\n\nconst Line = styled.div`\n  display: flex;\n  justify-content: center;\n`\n\nexport interface WalletState {\n  isSafeApp?: boolean\n  isProxyDeployed?: boolean\n  contractVersion?: string,\n  cpkAddress?: string\n  cpkBalance?: BigNumber\n  networkId?: number\n  ownerAddress?: string\n  txManager?: TransactionManagerConfig\n}\n\nconst initialWalletState = {\n  isSafeApp: undefined,\n  isProxyDeployed: undefined,\n  contractVersion: undefined,\n  cpkAddress: undefined,\n  cpkBalance: undefined,\n  networkId: undefined,\n  ownerAddress: undefined,\n  txManager: undefined\n}\n\nconst tabs: TabItem[] = [\n  {\n    id: '1',\n    label: 'CPK Info',\n    icon: 'info'\n  },\n  {\n    id: '2',\n    label: 'CPK Transactions',\n    icon: 'transactionsInactive'\n  },\n  {\n    id: '3',\n    label: 'CPK Modules',\n    icon: 'apps'\n  }\n]\n\nconst App = () => {\n  const [selectedTab, setSelectedTab] = useState('1')\n  const [web3, setWeb3] = React.useState<Web3 | undefined>(undefined)\n  const [cpk, setCpk] = useState<CPK | undefined>(undefined)\n  const [walletState, updateWalletState] = useState<WalletState>(\n    initialWalletState\n  )\n  const network = 'rinkeby'\n\n  const onWeb3Connect = (provider: any) => {\n    if (provider) {\n      setWeb3(new Web3(provider))\n    }\n  }\n\n  useEffect(() => {\n    const initializeCpk = async () => {\n      if (!web3) return\n      const ethLibAdapter = new Web3Adapter({ web3 })\n      const newCpk = await CPK.create({ ethLibAdapter })\n      console.log({newCpk})\n      setCpk(newCpk)\n    }\n    initializeCpk()\n  }, [web3])\n\n  useEffect(() => {\n    const updateCpk = async () => {\n      if (!cpk) return\n      const isProxyDeployed = await cpk.isProxyDeployed()\n      updateWalletState({\n        isSafeApp: cpk.isSafeApp(),\n        isProxyDeployed,\n        contractVersion: isProxyDeployed ? (await cpk.getContractVersion()) : undefined,\n        cpkAddress: await cpk.address,\n        cpkBalance: await cpk.getBalance(),\n        networkId: await cpk.getNetworkId(),\n        ownerAddress: await cpk.getOwnerAccount()\n      })\n    }\n    updateCpk()\n  }, [cpk])\n\n  return (\n    <Container>\n      <Line>\n        <Title size=\"sm\">Contract Proxy Kit Configuration</Title>\n      </Line>\n      <ConnectButton onConnect={onWeb3Connect} networkName={network} />\n      {cpk && (\n        <>\n          <Tab\n            onChange={setSelectedTab}\n            selectedTab={selectedTab}\n            variant=\"outlined\"\n            items={tabs}\n          />\n          {selectedTab === '1' && <CpkInfo walletState={walletState} />}\n          {selectedTab === '2' && (\n            <Transactions cpk={cpk} walletState={walletState} />\n          )}\n          {selectedTab === '3' && (\n            <SafeModules cpk={cpk} walletState={walletState} />\n          )}\n        </>\n      )}\n    </Container>\n  )\n}\n\nexport default App\n","import { createGlobalStyle } from 'styled-components'\nimport avertaFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-normal.woff2'\nimport avertaBoldFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-bold.woff2'\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    padding: 10px;\n  }\n\n  @font-face {\n    font-family: 'Averta';\n    font-display: swap;\n    src: local('Averta'), local('Averta Bold'),\n    url(${avertaFont}) format('woff2'),\n    url(${avertaBoldFont}) format('woff');\n  }\n`\n\nexport default GlobalStyle\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from 'styled-components'\nimport { theme } from '@gnosis.pm/safe-react-components'\nimport App from './components/App'\nimport GlobalStyle from 'styles/globalStyles'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <GlobalStyle />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}