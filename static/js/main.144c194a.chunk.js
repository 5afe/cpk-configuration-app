(this["webpackJsonpcpk-configuration-app"]=this["webpackJsonpcpk-configuration-app"]||[]).push([[0],{424:function(e,n,t){e.exports=t(914)},482:function(e,n){},513:function(e,n){},515:function(e,n){},616:function(e,n){},618:function(e,n){},650:function(e,n){},655:function(e,n){},657:function(e,n){},664:function(e,n){},677:function(e,n){},775:function(e,n){},914:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(30),o=t.n(c),l=t(33),i=t(21),s=t(2),u=t.n(s),d=t(73),f=t(47),m=t(38),p=t(400),h=t.n(p);function v(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return v=function(){return e},e}function x(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return x=function(){return e},e}var b=l.default.div(x()),E=l.default.div(v()),w=function(e){var n=e.walletState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Information"),r.a.createElement(b,null,r.a.createElement(E,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Network:")),r.a.createElement(i.Text,{size:"xl"},(null===n||void 0===n?void 0:n.networkId)&&function(e){if(e){return{1:"Mainnet",2:"Morden",3:"Ropsten",4:"Rinkeby",5:"Goerli",42:"Kovan",100:"xDai",246:"Energy Web Chain",73799:"Volta (Energy Web Chain)"}[e]}}(null===n||void 0===n?void 0:n.networkId))),r.a.createElement(b,null,r.a.createElement(E,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Running as a:")),r.a.createElement(i.Text,{size:"xl"},(null===n||void 0===n?void 0:n.isSafeApp)?"Safe App":"Standalone App")),r.a.createElement(b,null,r.a.createElement(E,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"State of the Proxy:")),r.a.createElement(i.Text,{size:"xl"},(null===n||void 0===n?void 0:n.isProxyDeployed)?"Deployed":"Not deployed")),r.a.createElement(b,null,r.a.createElement(E,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Owner address:")),(null===n||void 0===n?void 0:n.ownerAddress)&&r.a.createElement(i.EthHashInfo,{hash:null===n||void 0===n?void 0:n.ownerAddress,showIdenticon:!0,showCopyBtn:!0,showEtherscanBtn:!0,shortenHash:4})),r.a.createElement(b,null,r.a.createElement(E,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"CPK address:")),(null===n||void 0===n?void 0:n.cpkAddress)&&r.a.createElement(i.EthHashInfo,{hash:null===n||void 0===n?void 0:n.cpkAddress,showIdenticon:!0,showCopyBtn:!0,showEtherscanBtn:!0,shortenHash:4})),r.a.createElement(b,null,r.a.createElement(E,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"CPK Balance:")),r.a.createElement(i.Text,{size:"xl"},function(e){if(!e)return"0 ETH";var n=new h.a(10).pow(18);return e.div(n).decimalPlaces(7).toString()+" ETH"}(null===n||void 0===n?void 0:n.cpkBalance))))};function g(){var e=Object(m.a)(["\n  margin: 10px 0;\n"]);return g=function(){return e},e}function k(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return k=function(){return e},e}function j(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return j=function(){return e},e}var O=l.default.div(j()),y=l.default.div(k()),S=l.default.div(g()),T=[{id:"1",label:"Enabled modules"}],z=function(e){var n=e.cpk,t=e.walletState,c=Object(a.useState)(""),o=Object(f.a)(c,2),l=o[0],s=o[1],m=Object(a.useState)(""),p=Object(f.a)(m,2),h=p[0],v=p[1],x=Object(a.useState)(!1),b=Object(f.a)(x,2),E=b[0],w=b[1],g=Object(a.useState)(!1),k=Object(f.a)(g,2),j=k[0],z=k[1],A=Object(a.useState)([]),C=Object(f.a)(A,2),B=C[0],I=C[1],P=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,n.getModules();case 4:t=e.sent,a=t.map((function(e,n){return{id:n.toString(),cells:[{content:e}]}})),I(a),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])}))),[n]);Object(a.useEffect)((function(){P()}),[P]);var H=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return w(!1),v(""),e.prev=4,e.next=7,n.enableModule(l);case 7:return a=e.sent,(r=t.isSafeApp?a.safeTxHash:a.hash)&&v(r),z(!0),e.next=13,new Promise((function(e,n){var t;return null===(t=a.promiEvent)||void 0===t?void 0:t.then((function(n){return e(n)})).catch(n)}));case 13:return e.next=15,P();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),w(!0);case 20:z(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return w(!1),v(""),e.prev=4,e.next=7,n.disableModule(l);case 7:return a=e.sent,(r=t.isSafeApp?a.safeTxHash:a.hash)&&v(r),z(!0),e.next=13,new Promise((function(e,n){var t;return null===(t=a.promiEvent)||void 0===t?void 0:t.then((function(n){return e(n)})).catch(n)}));case 13:return e.next=15,P();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),w(!0);case 20:z(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Safe modules"),r.a.createElement(O,null,r.a.createElement(y,null,r.a.createElement(i.Text,{size:"xl"},"Test with this module on Rinkeby:")),r.a.createElement(i.EthHashInfo,{hash:"0x33A458E072b182152Bb30243f29585a82c45A22b",textSize:"xl",showCopyBtn:!0})),r.a.createElement(S,null,r.a.createElement(i.TextField,{id:"standard-name",label:"Module Address",value:l,onChange:function(e){return s(e.target.value)}})),r.a.createElement(O,null,r.a.createElement(i.Button,{onClick:H,size:"md",color:"primary",variant:"contained"},"Enable module")),r.a.createElement(O,null,r.a.createElement(i.Button,{onClick:M,size:"md",color:"primary",variant:"contained"},"Disable module")),E&&r.a.createElement(O,null,r.a.createElement(i.Text,{size:"xl",color:"error"},"Transaction rejected")),h&&r.a.createElement(O,null,r.a.createElement(y,null,r.a.createElement(i.Text,{size:"xl",as:"span",strong:!0},t.isSafeApp?"Safe transaction hash:":"Transaction hash:")),r.a.createElement(i.EthHashInfo,{hash:h,textSize:"xl",shortenHash:8,showCopyBtn:!0})),j?r.a.createElement(S,null,r.a.createElement(i.Card,null,r.a.createElement(i.Loader,{size:"sm"}))):r.a.createElement(S,null,B.length>0?r.a.createElement(i.Table,{headers:T,rows:B}):r.a.createElement(i.Card,null,r.a.createElement(i.Text,{size:"xl"},"No modules enabled"))))};function A(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return A=function(){return e},e}function C(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return C=function(){return e},e}var B=l.default.div(C()),I=l.default.div(A()),P=function(e){var n=e.cpk,t=e.walletState,c=Object(a.useState)(""),o=Object(f.a)(c,2),l=o[0],s=o[1],m=Object(a.useState)(!1),p=Object(f.a)(m,2),h=p[0],v=p[1],x=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ownerAddress){e.next=2;break}return e.abrupt("return");case 2:return v(!1),s(""),a=[{to:t.ownerAddress}],e.prev=5,e.next=8,n.execTransactions(a);case 8:r=e.sent,(c=t.isSafeApp?r.safeTxHash:r.hash)&&s(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),v(!0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Transactions"),r.a.createElement(B,null,r.a.createElement(i.Button,{onClick:x,size:"md",color:"primary",variant:"contained"},"Send empty tx to the CPK owner")),h&&r.a.createElement(B,null,r.a.createElement(i.Text,{size:"xl",color:"error"},"Transaction rejected")),l&&r.a.createElement(B,null,r.a.createElement(I,null,r.a.createElement(i.Text,{size:"xl",as:"span",strong:!0},t.isSafeApp?"Safe transaction hash:":"Transaction hash:")),r.a.createElement(i.EthHashInfo,{hash:l,textSize:"xl",shortenHash:8,showCopyBtn:!0})))},H=t(245),M=t(404),K=t.n(M),D=t(406),N=t.n(D);function F(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-bottom: 10px;\n  & > div {\n    padding: 0;\n  }\n  .web3connect-connect-button {\n    outline: none;\n    background: #008c73;\n    border: 1px solid #008c73;\n    border-radius: 4px;\n    color: #fff;\n    cursor: pointer;\n    transform: none;\n    font-weight: normal;\n    font-size: 14px;\n    box-shadow: none;\n  }\n  .web3connect-connect-button:hover {\n    background: #005546;\n    box-shadow: none;\n    transform: none;\n  }\n"]);return F=function(){return e},e}var R=l.default.div(F()),W=t(767).default,G=function(e){var n=e.onConnect,t=e.networkName;return a.createElement(R,null,a.createElement(N.a.Button,{network:t,providerOptions:{walletconnect:{package:W,options:{infuraId:"b42c928da8fd4c1f90374b18aa9ac6ba"}}},onConnect:n,onClose:function(){}}))};function J(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]);return J=function(){return e},e}function L(){var e=Object(m.a)(["\n  padding: 10px;\n"]);return L=function(){return e},e}var V=l.default.div(L()),$=l.default.div(J()),q={isSafeApp:void 0,isProxyDeployed:void 0,cpkAddress:void 0,cpkBalance:void 0,networkId:void 0,ownerAddress:void 0,txManager:void 0},Q=[{id:"1",label:"CPK Info",icon:"info"},{id:"2",label:"CPK Transactions",icon:"transactionsInactive"},{id:"3",label:"CPK Modules",icon:"apps"}],U=function(){var e=Object(a.useState)("1"),n=Object(f.a)(e,2),t=n[0],c=n[1],o=r.a.useState(void 0),l=Object(f.a)(o,2),s=l[0],m=l[1],p=Object(a.useState)(void 0),h=Object(f.a)(p,2),v=h[0],x=h[1],b=Object(a.useState)(q),E=Object(f.a)(b,2),g=E[0],k=E[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return n=new H.a({web3:s}),e.next=5,H.b.create({ethLibAdapter:n});case 5:t=e.sent,console.log({newCpk:t}),x(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.t0=k,e.next=5,v.isSafeApp();case 5:return e.t1=e.sent,e.next=8,v.isProxyDeployed();case 8:return e.t2=e.sent,e.next=11,v.address;case 11:return e.t3=e.sent,e.next=14,v.getBalance();case 14:return e.t4=e.sent,e.next=17,v.getNetworkId();case 17:return e.t5=e.sent,e.next=20,v.getOwnerAccount();case 20:e.t6=e.sent,e.t7={isSafeApp:e.t1,isProxyDeployed:e.t2,cpkAddress:e.t3,cpkBalance:e.t4,networkId:e.t5,ownerAddress:e.t6},(0,e.t0)(e.t7);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]),r.a.createElement(V,null,r.a.createElement($,null,r.a.createElement(i.Title,{size:"sm"},"Contract Proxy Kit Configuration")),r.a.createElement(G,{onConnect:function(e){e&&m(new K.a(e))},networkName:"rinkeby"}),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Tab,{onChange:c,selectedTab:t,variant:"outlined",items:Q}),"1"===t&&r.a.createElement(w,{walletState:g}),"2"===t&&r.a.createElement(P,{cpk:v,walletState:g}),"3"===t&&r.a.createElement(z,{cpk:v,walletState:g})))},X=t(407),Y=t.n(X),Z=t(408),_=t.n(Z);function ee(){var e=Object(m.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    padding: 10px;\n  }\n\n  @font-face {\n    font-family: 'Averta';\n    font-display: swap;\n    src: local('Averta'), local('Averta Bold'),\n    url(",") format('woff2'),\n    url(",") format('woff');\n  }\n"]);return ee=function(){return e},e}var ne=Object(l.createGlobalStyle)(ee(),Y.a,_.a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.ThemeProvider,{theme:i.theme},r.a.createElement(ne,null),r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[424,1,2]]]);
//# sourceMappingURL=main.144c194a.chunk.js.map