(this["webpackJsonpcpk-configuration-app"]=this["webpackJsonpcpk-configuration-app"]||[]).push([[0],{408:function(e,t,n){e.exports=n(890)},435:function(e,t){},457:function(e,t){},459:function(e,t){},476:function(e,t){},602:function(e,t){},604:function(e,t){},640:function(e,t){},642:function(e,t){},648:function(e,t){},744:function(e,t,n){},753:function(e,t){},890:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),l=n.n(c),o=n(33),i=n(19),s=n(4),u=n.n(s),d=n(71),f=n(46),m=n(38),p=n(238),h=n(390),v=n.n(h),b=n(87),x=n(391),E=n.n(x);n(744);function w(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 10px;\n"]);return w=function(){return e},e}var g=o.default.div(w()),j=n(745).default,O=function(e){var t=e.onConnect,n=e.networkName;return a.createElement(g,null,a.createElement(E.a.Button,{network:n,providerOptions:{walletconnect:{package:j,options:{infuraId:"b42c928da8fd4c1f90374b18aa9ac6ba"}}},onConnect:t,onClose:function(){}}))};function k(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return k=function(){return e},e}function y(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return y=function(){return e},e}var S=o.default.div(y()),T=o.default.div(k()),A=function(e){var t=e.walletState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Information"),r.a.createElement(S,null,r.a.createElement(T,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Running as a:")),r.a.createElement(i.Text,{size:"xl"},(null===t||void 0===t?void 0:t.isSafeApp)?"Safe App":"Standalone App")),r.a.createElement(S,null,r.a.createElement(T,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"State of the Proxy:")),r.a.createElement(i.Text,{size:"xl"},(null===t||void 0===t?void 0:t.isProxyDeployed)?"Deployed":"Not deployed")),r.a.createElement(S,null,r.a.createElement(T,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Owner address:")),(null===t||void 0===t?void 0:t.ownerAddress)&&r.a.createElement(i.EthHashInfo,{hash:null===t||void 0===t?void 0:t.ownerAddress,showIdenticon:!0,showCopyBtn:!0,showEtherscanBtn:!0,shortenHash:4})),r.a.createElement(S,null,r.a.createElement(T,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"CPK address:")),(null===t||void 0===t?void 0:t.cpkAddress)&&r.a.createElement(i.EthHashInfo,{hash:null===t||void 0===t?void 0:t.cpkAddress,showIdenticon:!0,showCopyBtn:!0,showEtherscanBtn:!0,shortenHash:4})),r.a.createElement(S,null,r.a.createElement(T,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"CPK Balance:")),r.a.createElement(i.Text,{size:"xl"},null===t||void 0===t?void 0:t.cpkBalance)))};function C(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return C=function(){return e},e}function z(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return z=function(){return e},e}var B=o.default.div(z()),P=o.default.div(C()),H=function(e){var t=e.cpk,n=e.walletState,c=Object(a.useState)(""),l=Object(f.a)(c,2),o=l[0],s=l[1],m=Object(a.useState)(!1),p=Object(f.a)(m,2),h=p[0],v=p[1],b=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ownerAddress){e.next=2;break}return e.abrupt("return");case 2:return v(!1),s(""),a=[{to:n.ownerAddress}],e.prev=5,e.next=8,t.execTransactions(a);case 8:r=e.sent,(c=n.isSafeApp?r.safeTxHash:r.hash)&&s(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),v(!0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Transactions"),r.a.createElement(B,null,r.a.createElement(i.Button,{onClick:b,size:"md",color:"primary",variant:"contained"},"Send empty tx to the CPK owner")),h&&r.a.createElement(B,null,r.a.createElement(i.Text,{size:"xl",color:"error"},"Transaction rejected")),o&&r.a.createElement(B,null,r.a.createElement(P,null,r.a.createElement(i.Text,{size:"xl",as:"span",strong:!0},n.isSafeApp?"Safe transaction hash:":"Transaction hash:")),r.a.createElement(i.EthHashInfo,{hash:o,textSize:"xl",shortenHash:8,showCopyBtn:!0})))};function I(){var e=Object(m.a)(["\n  margin: 10px 0;\n"]);return I=function(){return e},e}function K(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return K=function(){return e},e}function M(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return M=function(){return e},e}var D=o.default.div(M()),N=o.default.div(K()),F=o.default.div(I()),J=[{id:"1",label:"Enabled modules"}],L=function(e){var t=e.cpk,n=e.walletState,c=Object(a.useState)(""),l=Object(f.a)(c,2),o=l[0],s=l[1],m=Object(a.useState)(""),p=Object(f.a)(m,2),h=p[0],v=p[1],b=Object(a.useState)(!1),x=Object(f.a)(b,2),E=x[0],w=x[1],g=Object(a.useState)(!1),j=Object(f.a)(g,2),O=j[0],k=j[1],y=Object(a.useState)([]),S=Object(f.a)(y,2),T=S[0],A=S[1],C=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getModules();case 2:n=e.sent,a=n.map((function(e,t){return{id:t.toString(),cells:[{content:e}]}})),A(a);case 5:case"end":return e.stop()}}),e)}))),[t]);Object(a.useEffect)((function(){C()}),[C]);var z=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return w(!1),v(""),e.prev=4,e.next=7,t.enableModule(o);case 7:return a=e.sent,(r=n.isSafeApp?a.safeTxHash:a.hash)&&v(r),k(!0),e.next=13,new Promise((function(e,t){var n;return null===(n=a.promiEvent)||void 0===n?void 0:n.then((function(t){return e(t)})).catch(t)}));case 13:return e.next=15,C();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),w(!0);case 20:k(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return w(!1),v(""),e.prev=4,e.next=7,t.disableModule(o);case 7:return a=e.sent,(r=n.isSafeApp?a.safeTxHash:a.hash)&&v(r),k(!0),e.next=13,new Promise((function(e,t){var n;return null===(n=a.promiEvent)||void 0===n?void 0:n.then((function(t){return e(t)})).catch(t)}));case 13:return e.next=15,C();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),w(!0);case 20:k(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Safe modules"),r.a.createElement(D,null,r.a.createElement(N,null,r.a.createElement(i.Text,{size:"xl"},"Test with this module on Rinkeby:")),r.a.createElement(i.EthHashInfo,{hash:"0x33A458E072b182152Bb30243f29585a82c45A22b",textSize:"xl",showCopyBtn:!0})),r.a.createElement(F,null,r.a.createElement(i.TextField,{id:"standard-name",label:"Module Address",value:o,onChange:function(e){return s(e.target.value)}})),r.a.createElement(D,null,r.a.createElement(i.Button,{onClick:z,size:"md",color:"primary",variant:"contained"},"Enable module")),r.a.createElement(D,null,r.a.createElement(i.Button,{onClick:B,size:"md",color:"primary",variant:"contained"},"Disable module")),E&&r.a.createElement(D,null,r.a.createElement(i.Text,{size:"xl",color:"error"},"Transaction rejected")),h&&r.a.createElement(D,null,r.a.createElement(N,null,r.a.createElement(i.Text,{size:"xl",as:"span",strong:!0},n.isSafeApp?"Safe transaction hash:":"Transaction hash:")),r.a.createElement(i.EthHashInfo,{hash:h,textSize:"xl",shortenHash:8,showCopyBtn:!0})),O?r.a.createElement(F,null,r.a.createElement(i.Card,null,r.a.createElement(i.Loader,{size:"sm"}))):r.a.createElement(F,null,T.length>0?r.a.createElement(i.Table,{headers:J,rows:T}):r.a.createElement(i.Card,null,r.a.createElement(i.Text,{size:"xl"},"No modules enabled"))))};function R(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]);return R=function(){return e},e}function W(){var e=Object(m.a)(["\n  padding: 10px;\n"]);return W=function(){return e},e}var G=o.default.div(W()),$=o.default.div(R()),q={isSafeApp:void 0,isProxyDeployed:void 0,cpkAddress:void 0,cpkBalance:void 0,ownerAddress:void 0,txManager:void 0},Q=[{id:"1",label:"CPK Info",icon:"info"},{id:"2",label:"CPK Transactions",icon:"transactionsInactive"},{id:"3",label:"CPK Modules",icon:"apps"}],U=function(){var e=Object(a.useState)("1"),t=Object(f.a)(e,2),n=t[0],c=t[1],l=r.a.useState(void 0),o=Object(f.a)(l,2),s=o[0],m=o[1],h=Object(a.useState)(void 0),x=Object(f.a)(h,2),E=x[0],w=x[1],g=Object(a.useState)(q),j=Object(f.a)(g,2),k=j[0],y=j[1],S=Object(a.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&t){e.next=2;break}return e.abrupt("return");case 2:return e.t0=b.BigNumber,e.next=5,s.eth.getBalance(t);case 5:return e.t1=e.sent,n=new e.t0(e.t1),a=new b.BigNumber(10).pow(18),e.abrupt("return",s&&n.div(a).decimalPlaces(7).toString()+" ETH");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),T=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return e.t0=y,e.t1=E.isSafeApp(),e.next=6,E.isProxyDeployed();case 6:return e.t2=e.sent,e.t3=E.address,e.next=10,S(E.address);case 10:return e.t4=e.sent,e.next=13,E.getOwnerAccount();case 13:e.t5=e.sent,e.t6={isSafeApp:e.t1,isProxyDeployed:e.t2,cpkAddress:e.t3,cpkBalance:e.t4,ownerAddress:e.t5},(0,e.t0)(e.t6);case 16:case"end":return e.stop()}}),e)}))),[E,S]),C=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return t=new p.a({web3:s}),e.next=5,p.b.create({ethLibAdapter:t});case 5:n=e.sent,w(n);case 7:case"end":return e.stop()}}),e)}))),[s]);return Object(a.useEffect)((function(){C()}),[C]),Object(a.useEffect)((function(){T()}),[T]),r.a.createElement(G,null,r.a.createElement($,null,r.a.createElement(i.Title,{size:"sm"},"Contract Proxy Kit Configuration")),r.a.createElement(O,{onConnect:function(e){e&&m(new v.a(e))},networkName:"rinkeby"}),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Tab,{onChange:c,selectedTab:n,variant:"outlined",items:Q}),"1"===n&&r.a.createElement(A,{walletState:k}),"2"===n&&r.a.createElement(H,{cpk:E,walletState:k}),"3"===n&&r.a.createElement(L,{cpk:E,walletState:k})))},V=n(392),X=n.n(V),Y=n(393),Z=n.n(Y);function _(){var e=Object(m.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    padding: 10px;\n  }\n\n  @font-face {\n    font-family: 'Averta';\n    font-display: swap;\n    src: local('Averta'), local('Averta Bold'),\n    url(",") format('woff2'),\n    url(",") format('woff');\n  }\n"]);return _=function(){return e},e}var ee=Object(o.createGlobalStyle)(_(),X.a,Z.a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.ThemeProvider,{theme:i.theme},r.a.createElement(ee,null),r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[408,1,2]]]);
//# sourceMappingURL=main.61695847.chunk.js.map