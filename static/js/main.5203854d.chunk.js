(this["webpackJsonpcpk-configuration-app"]=this["webpackJsonpcpk-configuration-app"]||[]).push([[0],{408:function(e,t,n){e.exports=n(884)},436:function(e,t){},457:function(e,t){},459:function(e,t){},582:function(e,t){},584:function(e,t){},616:function(e,t){},621:function(e,t){},623:function(e,t){},630:function(e,t){},643:function(e,t){},736:function(e,t,n){},745:function(e,t){},884:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),l=n.n(c),o=n(32),i=n(20),s=n(2),u=n.n(s),d=n(75),f=n(46),m=n(38),p=n(238),v=n(387),h=n.n(v),b=n(389),x=n.n(b);n(736);function E(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 10px;\n"]);return E=function(){return e},e}var w=o.default.div(E()),g=n(737).default,k=function(e){var t=e.onConnect,n=e.networkName;return a.createElement(w,null,a.createElement(x.a.Button,{network:n,providerOptions:{walletconnect:{package:g,options:{infuraId:"b42c928da8fd4c1f90374b18aa9ac6ba"}}},onConnect:t,onClose:function(){}}))},j=n(390),O=n.n(j);function y(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return y=function(){return e},e}function S(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return S=function(){return e},e}var T=o.default.div(S()),A=o.default.div(y()),C=function(e){var t=e.walletState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Information"),r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Network:")),r.a.createElement(i.Text,{size:"xl"},(null===t||void 0===t?void 0:t.networkId)&&function(e){if(e){return{1:"Mainnet",2:"Morden",3:"Ropsten",4:"Rinkeby",5:"Goerli",42:"Kovan",100:"xDai",246:"Energy Web Chain",73799:"Volta (Energy Web Chain)"}[e]}}(null===t||void 0===t?void 0:t.networkId))),r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Running as a:")),r.a.createElement(i.Text,{size:"xl"},(null===t||void 0===t?void 0:t.isSafeApp)?"Safe App":"Standalone App")),r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"State of the Proxy:")),r.a.createElement(i.Text,{size:"xl"},(null===t||void 0===t?void 0:t.isProxyDeployed)?"Deployed":"Not deployed")),r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"Owner address:")),(null===t||void 0===t?void 0:t.ownerAddress)&&r.a.createElement(i.EthHashInfo,{hash:null===t||void 0===t?void 0:t.ownerAddress,showIdenticon:!0,showCopyBtn:!0,showEtherscanBtn:!0,shortenHash:4})),r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"CPK address:")),(null===t||void 0===t?void 0:t.cpkAddress)&&r.a.createElement(i.EthHashInfo,{hash:null===t||void 0===t?void 0:t.cpkAddress,showIdenticon:!0,showCopyBtn:!0,showEtherscanBtn:!0,shortenHash:4})),r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(i.Text,{size:"xl",strong:!0},"CPK Balance:")),r.a.createElement(i.Text,{size:"xl"},function(e){if(!e)return"0 ETH";var t=new O.a(10).pow(18);return e.div(t).decimalPlaces(7).toString()+" ETH"}(null===t||void 0===t?void 0:t.cpkBalance))))};function z(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return z=function(){return e},e}function B(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return B=function(){return e},e}var I=o.default.div(B()),P=o.default.div(z()),H=function(e){var t=e.cpk,n=e.walletState,c=Object(a.useState)(""),l=Object(f.a)(c,2),o=l[0],s=l[1],m=Object(a.useState)(!1),p=Object(f.a)(m,2),v=p[0],h=p[1],b=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ownerAddress){e.next=2;break}return e.abrupt("return");case 2:return h(!1),s(""),a=[{to:n.ownerAddress}],e.prev=5,e.next=8,t.execTransactions(a);case 8:r=e.sent,(c=n.isSafeApp?r.safeTxHash:r.hash)&&s(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),h(!0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Transactions"),r.a.createElement(I,null,r.a.createElement(i.Button,{onClick:b,size:"md",color:"primary",variant:"contained"},"Send empty tx to the CPK owner")),v&&r.a.createElement(I,null,r.a.createElement(i.Text,{size:"xl",color:"error"},"Transaction rejected")),o&&r.a.createElement(I,null,r.a.createElement(P,null,r.a.createElement(i.Text,{size:"xl",as:"span",strong:!0},n.isSafeApp?"Safe transaction hash:":"Transaction hash:")),r.a.createElement(i.EthHashInfo,{hash:o,textSize:"xl",shortenHash:8,showCopyBtn:!0})))};function M(){var e=Object(m.a)(["\n  margin: 10px 0;\n"]);return M=function(){return e},e}function K(){var e=Object(m.a)(["\n  margin-right: 10px;\n"]);return K=function(){return e},e}function D(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return D=function(){return e},e}var N=o.default.div(D()),F=o.default.div(K()),R=o.default.div(M()),W=[{id:"1",label:"Enabled modules"}],G=function(e){var t=e.cpk,n=e.walletState,c=Object(a.useState)(""),l=Object(f.a)(c,2),o=l[0],s=l[1],m=Object(a.useState)(""),p=Object(f.a)(m,2),v=p[0],h=p[1],b=Object(a.useState)(!1),x=Object(f.a)(b,2),E=x[0],w=x[1],g=Object(a.useState)(!1),k=Object(f.a)(g,2),j=k[0],O=k[1],y=Object(a.useState)([]),S=Object(f.a)(y,2),T=S[0],A=S[1],C=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,t.getModules();case 4:n=e.sent,a=n.map((function(e,t){return{id:t.toString(),cells:[{content:e}]}})),A(a),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])}))),[t]);Object(a.useEffect)((function(){C()}),[C]);var z=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return w(!1),h(""),e.prev=4,e.next=7,t.enableModule(o);case 7:return a=e.sent,(r=n.isSafeApp?a.safeTxHash:a.hash)&&h(r),O(!0),e.next=13,new Promise((function(e,t){var n;return null===(n=a.promiEvent)||void 0===n?void 0:n.then((function(t){return e(t)})).catch(t)}));case 13:return e.next=15,C();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),w(!0);case 20:O(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return w(!1),h(""),e.prev=4,e.next=7,t.disableModule(o);case 7:return a=e.sent,(r=n.isSafeApp?a.safeTxHash:a.hash)&&h(r),O(!0),e.next=13,new Promise((function(e,t){var n;return null===(n=a.promiEvent)||void 0===n?void 0:n.then((function(t){return e(t)})).catch(t)}));case 13:return e.next=15,C();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),w(!0);case 20:O(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Title,{size:"sm"},"Safe modules"),r.a.createElement(N,null,r.a.createElement(F,null,r.a.createElement(i.Text,{size:"xl"},"Test with this module on Rinkeby:")),r.a.createElement(i.EthHashInfo,{hash:"0x33A458E072b182152Bb30243f29585a82c45A22b",textSize:"xl",showCopyBtn:!0})),r.a.createElement(R,null,r.a.createElement(i.TextField,{id:"standard-name",label:"Module Address",value:o,onChange:function(e){return s(e.target.value)}})),r.a.createElement(N,null,r.a.createElement(i.Button,{onClick:z,size:"md",color:"primary",variant:"contained"},"Enable module")),r.a.createElement(N,null,r.a.createElement(i.Button,{onClick:B,size:"md",color:"primary",variant:"contained"},"Disable module")),E&&r.a.createElement(N,null,r.a.createElement(i.Text,{size:"xl",color:"error"},"Transaction rejected")),v&&r.a.createElement(N,null,r.a.createElement(F,null,r.a.createElement(i.Text,{size:"xl",as:"span",strong:!0},n.isSafeApp?"Safe transaction hash:":"Transaction hash:")),r.a.createElement(i.EthHashInfo,{hash:v,textSize:"xl",shortenHash:8,showCopyBtn:!0})),j?r.a.createElement(R,null,r.a.createElement(i.Card,null,r.a.createElement(i.Loader,{size:"sm"}))):r.a.createElement(R,null,T.length>0?r.a.createElement(i.Table,{headers:W,rows:T}):r.a.createElement(i.Card,null,r.a.createElement(i.Text,{size:"xl"},"No modules enabled"))))};function J(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]);return J=function(){return e},e}function L(){var e=Object(m.a)(["\n  padding: 10px;\n"]);return L=function(){return e},e}var V=o.default.div(L()),$=o.default.div(J()),q={isSafeApp:void 0,isProxyDeployed:void 0,cpkAddress:void 0,cpkBalance:void 0,networkId:void 0,ownerAddress:void 0,txManager:void 0},Q=[{id:"1",label:"CPK Info",icon:"info"},{id:"2",label:"CPK Transactions",icon:"transactionsInactive"},{id:"3",label:"CPK Modules",icon:"apps"}],U=function(){var e=Object(a.useState)("1"),t=Object(f.a)(e,2),n=t[0],c=t[1],l=r.a.useState(void 0),o=Object(f.a)(l,2),s=o[0],m=o[1],v=Object(a.useState)(void 0),b=Object(f.a)(v,2),x=b[0],E=b[1],w=Object(a.useState)(q),g=Object(f.a)(w,2),j=g[0],O=g[1],y=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return e.t0=O,e.t1=x.isSafeApp(),e.next=6,x.isProxyDeployed();case 6:return e.t2=e.sent,e.t3=x.address,e.next=10,x.getBalance();case 10:return e.t4=e.sent,e.next=13,x.getNetworkId();case 13:return e.t5=e.sent,e.next=16,x.getOwnerAccount();case 16:e.t6=e.sent,e.t7={isSafeApp:e.t1,isProxyDeployed:e.t2,cpkAddress:e.t3,cpkBalance:e.t4,networkId:e.t5,ownerAddress:e.t6},(0,e.t0)(e.t7);case 19:case"end":return e.stop()}}),e)}))),[x]),S=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return t=new p.a({web3:s}),e.next=5,p.b.create({ethLibAdapter:t});case 5:n=e.sent,E(n);case 7:case"end":return e.stop()}}),e)}))),[s]);return Object(a.useEffect)((function(){S()}),[S]),Object(a.useEffect)((function(){y()}),[y]),r.a.createElement(V,null,r.a.createElement($,null,r.a.createElement(i.Title,{size:"sm"},"Contract Proxy Kit Configuration")),r.a.createElement(k,{onConnect:function(e){e&&m(new h.a(e))},networkName:"rinkeby"}),x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Tab,{onChange:c,selectedTab:n,variant:"outlined",items:Q}),"1"===n&&r.a.createElement(C,{walletState:j}),"2"===n&&r.a.createElement(H,{cpk:x,walletState:j}),"3"===n&&r.a.createElement(G,{cpk:x,walletState:j})))},X=n(391),Y=n.n(X),Z=n(392),_=n.n(Z);function ee(){var e=Object(m.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    padding: 10px;\n  }\n\n  @font-face {\n    font-family: 'Averta';\n    font-display: swap;\n    src: local('Averta'), local('Averta Bold'),\n    url(",") format('woff2'),\n    url(",") format('woff');\n  }\n"]);return ee=function(){return e},e}var te=Object(o.createGlobalStyle)(ee(),Y.a,_.a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.ThemeProvider,{theme:i.theme},r.a.createElement(te,null),r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[408,1,2]]]);
//# sourceMappingURL=main.5203854d.chunk.js.map